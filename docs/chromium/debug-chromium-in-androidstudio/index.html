<!doctype html><html lang=zh dir=ltr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Debug Chromium in Android Studio# 0. Context# https://lldb.llvm.org/use/map.html 1. debug# Chromium Android源代码庞大且复杂。 在调试器LLDB下能帮助我们更好的理解代码流程。 介绍使用LLDB调试器调试android上chromium的C++代码。
1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。# 使用attach方式调试(因此进程在启动过程中暂时不能调试)。
"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/docs/chromium/debug-chromium-in-androidstudio/"><meta property="og:site_name" content="原点"><meta property="og:title" content="Debug Chromium in Android Studio"><meta property="og:description" content="Debug Chromium in Android Studio# 0. Context# https://lldb.llvm.org/use/map.html 1. debug# Chromium Android源代码庞大且复杂。 在调试器LLDB下能帮助我们更好的理解代码流程。 介绍使用LLDB调试器调试android上chromium的C++代码。
1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。# 使用attach方式调试(因此进程在启动过程中暂时不能调试)。"><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-12-06T21:00:15+08:00"><meta property="article:modified_time" content="2025-12-06T21:00:15+08:00"><meta itemprop=name content="Debug Chromium in Android Studio"><meta itemprop=description content="Debug Chromium in Android Studio# 0. Context# https://lldb.llvm.org/use/map.html 1. debug# Chromium Android源代码庞大且复杂。 在调试器LLDB下能帮助我们更好的理解代码流程。 介绍使用LLDB调试器调试android上chromium的C++代码。
1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。# 使用attach方式调试(因此进程在启动过程中暂时不能调试)。"><meta itemprop=datePublished content="2025-12-06T21:00:15+08:00"><meta itemprop=dateModified content="2025-12-06T21:00:15+08:00"><meta itemprop=wordCount content="597"><title>Debug Chromium in Android Studio | 原点</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/docs/chromium/debug-chromium-in-androidstudio/><link rel=stylesheet href=/book.min.cc2c524ed250aac81b23d1f4af87344917b325208841feca0968fe450f570575.css integrity="sha256-zCxSTtJQqsgbI9H0r4c0SRezJSCIQf7KCWj+RQ9XBXU=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.c0b06655996f4e49c62625ad932fb36d02cb05b31d14015a158d254a0c2e99cf.js integrity="sha256-wLBmVZlvTknGJiWtky+zbQLLBbMdFAFaFY0lSgwumc8=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-docs"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>原点</span></a></h2><div class="book-search hidden"><input id=book-search-input type=text placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a>Chromium</a><ul><li><a href=/docs/chromium/debug-chromium-in-androidstudio/ class=active>Debug Chromium in Android Studio</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class="book-header hidden"><div class="flex align-center justify-between"><label for=menu-control><img src=/icons/menu.svg class=book-icon alt=Menu></label><h3>Debug Chromium in Android Studio</h3><label for=toc-control><img src=/icons/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class=hidden><nav id=TableOfContents><ul><li><a href=#debug-chromium-in-android-studio>Debug Chromium in Android Studio</a><ul><li><a href=#0-context>0. Context</a></li><li><a href=#1-debug>1. debug</a><ul><li><a href=#11-编译chromium时记得修改编译选项-g--o0-使得编译器做更少的优化便于调试>1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。</a></li><li><a href=#12-安装lldb>1.2 安装LLDB。</a></li><li><a href=#13-在lldb中设置源码路径因为调试时源码路径与编译时源码路径可能不相同因此需要设置否则lldb将无法设置断点和找到源代码>1.3 在LLDB中，设置源码路径：因为调试时源码路径与编译时源码路径可能不相同，因此需要设置。否则LLDB将无法设置断点和找到源代码。</a></li><li><a href=#14-在lldb中加载符号表>1.4 在LLDB中，加载符号表。</a></li><li><a href=#15-在lldb中查找符号设置断点查看断点启用禁用断点查看call-stack单步调试查看变量>1.5 在LLDB中，查找符号、设置断点、查看断点、启用/禁用断点、查看call stack、单步调试、查看变量。</a></li></ul></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=debug-chromium-in-android-studio>Debug Chromium in Android Studio<a class=anchor href=#debug-chromium-in-android-studio>#</a></h1><h2 id=0-context>0. Context<a class=anchor href=#0-context>#</a></h2><ul><li><a href=https://lldb.llvm.org/use/map.html>https://lldb.llvm.org/use/map.html</a></li></ul><h2 id=1-debug>1. debug<a class=anchor href=#1-debug>#</a></h2><p>Chromium Android源代码庞大且复杂。
在调试器LLDB下能帮助我们更好的理解代码流程。
介绍使用LLDB调试器调试android上chromium的C++代码。</p><h3 id=11-编译chromium时记得修改编译选项-g--o0-使得编译器做更少的优化便于调试>1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。<a class=anchor href=#11-%e7%bc%96%e8%af%91chromium%e6%97%b6%e8%ae%b0%e5%be%97%e4%bf%ae%e6%94%b9%e7%bc%96%e8%af%91%e9%80%89%e9%a1%b9-g--o0-%e4%bd%bf%e5%be%97%e7%bc%96%e8%af%91%e5%99%a8%e5%81%9a%e6%9b%b4%e5%b0%91%e7%9a%84%e4%bc%98%e5%8c%96%e4%be%bf%e4%ba%8e%e8%b0%83%e8%af%95>#</a></h3><p>使用attach方式调试(因此进程在启动过程中暂时不能调试)。</p><ul><li>查看进程PID：adb shell ps -A | grep chrome</li><li>启动lldb-server：adb shell /system/bin/lldb-server platform &ndash;server &ndash;listen unix-abstract:///data/local/tmp/debug.sock
确保手机目录/system/bin/存在lldb-server。lldb-server可以从Android SDK目录中找到。</li></ul><h3 id=12-安装lldb>1.2 安装LLDB。<a class=anchor href=#12-%e5%ae%89%e8%a3%85lldb>#</a></h3><ul><li>apt install lldb</li><li>启动lldb： lldb</li><li>列出lldb支持平台：platform list</li><li>选择LLDB使用平台：platform select remote-android</li><li>连接lldb-server： platform connect unix-abstract-connect:///data/local/tmp/debug.sock</li><li>列举手机进程： platform process list</li><li>ATTACH PID： attach 16767 #PID=16767 就是要调试的进程PID</li><li>查看： platform status</li></ul><h3 id=13-在lldb中设置源码路径因为调试时源码路径与编译时源码路径可能不相同因此需要设置否则lldb将无法设置断点和找到源代码>1.3 在LLDB中，设置源码路径：因为调试时源码路径与编译时源码路径可能不相同，因此需要设置。否则LLDB将无法设置断点和找到源代码。<a class=anchor href=#13-%e5%9c%a8lldb%e4%b8%ad%e8%ae%be%e7%bd%ae%e6%ba%90%e7%a0%81%e8%b7%af%e5%be%84%e5%9b%a0%e4%b8%ba%e8%b0%83%e8%af%95%e6%97%b6%e6%ba%90%e7%a0%81%e8%b7%af%e5%be%84%e4%b8%8e%e7%bc%96%e8%af%91%e6%97%b6%e6%ba%90%e7%a0%81%e8%b7%af%e5%be%84%e5%8f%af%e8%83%bd%e4%b8%8d%e7%9b%b8%e5%90%8c%e5%9b%a0%e6%ad%a4%e9%9c%80%e8%a6%81%e8%ae%be%e7%bd%ae%e5%90%a6%e5%88%99lldb%e5%b0%86%e6%97%a0%e6%b3%95%e8%ae%be%e7%bd%ae%e6%96%ad%e7%82%b9%e5%92%8c%e6%89%be%e5%88%b0%e6%ba%90%e4%bb%a3%e7%a0%81>#</a></h3><ul><li>settings set target.source-map /home/huangguanyuan/chromium_android/src /home/huangguanyuan/chromium_android/src</li><li>settings show</li><li>settings list</li></ul><h3 id=14-在lldb中加载符号表>1.4 在LLDB中，加载符号表。<a class=anchor href=#14-%e5%9c%a8lldb%e4%b8%ad%e5%8a%a0%e8%bd%bd%e7%ac%a6%e5%8f%b7%e8%a1%a8>#</a></h3><ul><li>target symbols add /home/u1804/chromium_android/src/out/default64d/lib.unstripped/libnet.cr.so</li><li>target symbols add /home/u1804/chromium_android/src/out/default64d/lib.unstripped/libchrome.cr.so</li><li>target symbols add /home/u1804/chromium_android/src/out/default64d/lib.unstripped/libcontent.cr.so</li><li>target symbols add /home/u1804/chromium_android/src/out/default64d/lib.unstripped/libbase.cr.so</li></ul><h3 id=15-在lldb中查找符号设置断点查看断点启用禁用断点查看call-stack单步调试查看变量>1.5 在LLDB中，查找符号、设置断点、查看断点、启用/禁用断点、查看call stack、单步调试、查看变量。<a class=anchor href=#15-%e5%9c%a8lldb%e4%b8%ad%e6%9f%a5%e6%89%be%e7%ac%a6%e5%8f%b7%e8%ae%be%e7%bd%ae%e6%96%ad%e7%82%b9%e6%9f%a5%e7%9c%8b%e6%96%ad%e7%82%b9%e5%90%af%e7%94%a8%e7%a6%81%e7%94%a8%e6%96%ad%e7%82%b9%e6%9f%a5%e7%9c%8bcall-stack%e5%8d%95%e6%ad%a5%e8%b0%83%e8%af%95%e6%9f%a5%e7%9c%8b%e5%8f%98%e9%87%8f>#</a></h3><ul><li>详细请参考：http://lldb.llvm.org/lldb-gdb.html</li><li>image lookup &ndash;name TCPSocketPosix::ReadIfReady</li><li>breakpoint set -f tcp_socket_posix.cc -l 413</li><li>breakpoint disable 5</li><li>breakpoint enable 5</li><li>bt</li><li>c</li><li>n</li><li>print</li><li>frame variable</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div></div><div></div></div><div><footer><style>.full-width-line{width:100%;border:0;height:1px;background:#000;margin:auto}</style><hr class=full-width-line><p>© 2025 Powered By Hugo，模板：Hugo-book .</p></footer></div><script>(function(){document.querySelectorAll("pre:has(code)").forEach(e=>{e.addEventListener("click",e.focus),e.addEventListener("copy",function(t){if(t.preventDefault(),navigator.clipboard){const t=window.getSelection().toString()||e.textContent;navigator.clipboard.writeText(t)}})})})()</script></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#debug-chromium-in-android-studio>Debug Chromium in Android Studio</a><ul><li><a href=#0-context>0. Context</a></li><li><a href=#1-debug>1. debug</a><ul><li><a href=#11-编译chromium时记得修改编译选项-g--o0-使得编译器做更少的优化便于调试>1.1 编译Chromium时，记得修改编译选项：-g -O0, 使得编译器做更少的优化，便于调试。</a></li><li><a href=#12-安装lldb>1.2 安装LLDB。</a></li><li><a href=#13-在lldb中设置源码路径因为调试时源码路径与编译时源码路径可能不相同因此需要设置否则lldb将无法设置断点和找到源代码>1.3 在LLDB中，设置源码路径：因为调试时源码路径与编译时源码路径可能不相同，因此需要设置。否则LLDB将无法设置断点和找到源代码。</a></li><li><a href=#14-在lldb中加载符号表>1.4 在LLDB中，加载符号表。</a></li><li><a href=#15-在lldb中查找符号设置断点查看断点启用禁用断点查看call-stack单步调试查看变量>1.5 在LLDB中，查找符号、设置断点、查看断点、启用/禁用断点、查看call stack、单步调试、查看变量。</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>